class ConstructionWorkshopView{constructor(app){this.app=app}async render(){const t=await this.app.api.get('/construction/templates');document.getElementById('view').innerHTML=`<div class='card'><h3>Templates</h3><div>${(t.templates||[]).map(x=>`<button class='btn' data-template='${x.id}'>${x.name}</button>`).join(' ')}</div></div><div class='card'><h3>Build Spec</h3><textarea class='input' id='spec' rows='6'>{"name":"demo","type":"tool"}</textarea><button class='btn primary' id='build'>Build</button></div><div id='build-result' class='card'></div>`;document.getElementById('build').onclick=()=>this.build()}async build(){let spec={};try{spec=JSON.parse(document.getElementById('spec').value)}catch(e){}const r=await this.app.api.post('/construction/build',{spec});document.getElementById('build-result').innerHTML=UIComponents.codeBlock(JSON.stringify(r,null,2))}};window.ConstructionWorkshopView=ConstructionWorkshopView;
