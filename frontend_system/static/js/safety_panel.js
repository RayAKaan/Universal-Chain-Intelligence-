class SafetyPanelView{constructor(app){this.app=app}async render(){const [s,a,t,v]=await Promise.all([this.app.api.getSafetyStatus(),this.app.api.getAuditTrail(20,0),this.app.api.getTrustLevel(),this.app.api.get('/safety/violations')]);document.getElementById('view').innerHTML=`<div class='grid grid-4'>${UIComponents.statCard('Alignment',((s.alignment||0)*100).toFixed(1)+'%','','ğŸ›¡ï¸')}${UIComponents.statCard('Trust Tier',t.tier||'N/A','','ğŸ¤')}${UIComponents.statCard('Containment',s.containment||'unknown','','ğŸ§±')}${UIComponents.statCard('Emergency',s.emergency?'ACTIVE':'Normal','','ğŸš¨')}</div><div class='card'><h3>Audit Trail</h3>${UIComponents.codeBlock(JSON.stringify(a.audit||[],null,2))}</div><div class='card'><button class='btn danger' id='panic'>Activate Panic Mode</button></div>`;document.getElementById('panic').onclick=async()=>{await this.app.api.post('/safety/emergency/panic',{reason:'manual ui'});UIComponents.toast('Panic mode requested','warning')}}};window.SafetyPanelView=SafetyPanelView;
